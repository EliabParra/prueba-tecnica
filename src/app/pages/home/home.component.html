<div class="home-dashboard">
	<mat-toolbar color="primary" class="dashboard-toolbar">
		<span class="toolbar-title">Dashboard</span>
		<span class="spacer"></span>

			<button mat-flat-button><mat-icon>add</mat-icon> Nuevo</button>

	</mat-toolbar>

	<div class="stats-row">
		<mat-card class="stat-card" *ngFor="let s of stats">
			<div class="stat-card-content">
				<div class="stat-icon"><mat-icon>{{s.icon}}</mat-icon></div>
				<div class="stat-info">
					<div class="stat-value">{{s.value}}</div>
					<div class="stat-label">{{s.label}}</div>
				</div>
			</div>
		</mat-card>
	</div>

	<div class="main-area">
		<section class="main-left">
			<mat-card class="large-card">
				<mat-card-header>
					<mat-card-title>Resumen de Inventario</mat-card-title>
					<mat-card-subtitle>Indicadores generales</mat-card-subtitle>
				</mat-card-header>
				<mat-card-content>
					<div class="summary-row">
						<mat-card class="kpi-card">
							<div class="kpi-value">{{ inventorySummary.totalUnits }}</div>
							<div class="kpi-label">Unidades totales</div>
						</mat-card>
						<mat-card class="kpi-card">
							<div class="kpi-value">{{ inventorySummary.totalStores }}</div>
							<div class="kpi-label">Tiendas</div>
						</mat-card>
						<mat-card class="kpi-card">
							<div class="kpi-value">{{ inventorySummary.outOfStockCount }}</div>
							<div class="kpi-label">Productos sin stock</div>
						</mat-card>
					</div>

          <mat-card class="chart">
            <mat-card-header>
              <mat-card-title>Cantidad por Tienda</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <canvas #storesChart></canvas>
            </mat-card-content>
          </mat-card>
				</mat-card-content>
			</mat-card>
		</section>

		<aside class="main-right">
			<mat-card class="side-card">
				<mat-card-header>
					<mat-card-title>Actividades recientes</mat-card-title>
				</mat-card-header>
				<mat-card-content>
					<mat-list>
						<mat-list-item *ngFor="let a of recentActivities; let last = last">
							<div mat-line>{{a.text}}</div>
              <mat-divider *ngIf="!last"></mat-divider>
						</mat-list-item>
					</mat-list>
					<mat-divider></mat-divider>
					<h3 class="top-title">Top productos</h3>
					<div class="top-products">
						<div class="top-item" *ngFor="let p of topProducts">
							<span class="name">{{p.name}}</span>
							<span class="qty">{{p.qty}}</span>
						</div>
					</div>
				</mat-card-content>
			</mat-card>
		</aside>
	</div>
</div>
